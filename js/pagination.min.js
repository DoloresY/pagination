!function(a){a.fn.pageTemplate=function(e){function t(e){a.ajax({url:e.url,data:{pageNo:e.pageNo,pageSize:e.pageSize},type:"get",dataType:"JSON",success:function(a){var t=e.debug?a.data.length%e.pageSize?a.data.length/e.pageSize+1:a.data.length/e.pageSize:a.totalPage,a=a.data.slice((e.pageNo-1)*e.pageSize,e.pageNo*e.pageSize);s(e.pageNo,t),e=e.insert?e.insert(a):p(a)},error:function(a){console.log(a)}})}function p(e){for(var t="",p=0;p<e.length;p++)t+="<li>"+e[p].id+" : "+e[p].title+"</li>";a(".pageHtml").html(t)}function s(p,s){var i="";if(s>1){i+="<a"+(1==p?" class='page_gray'":" data-page='"+(p-1)+"'")+" href='javascript:;'>&laquo;</a>";for(var g=1;s>=g;g++)if(s>=e.pageStep){var n=p-1,r=s-p;n>10&&r>10?3==g||g==s-2?i+="<span>...</span>":(1==g||2==g||g==s||g==s-1||g==p||g==p-1||g==p+1)&&(i+="<a "+(g==p?"class='selected'":"data-page='"+g+"'")+" href='javascript:;'>"+g+"</a>"):r>n?5>p?5>=g||g==s-1||g==s?i+="<a "+(g==p?"class='selected'":"data-page='"+g+"'")+" href='javascript:;'>"+g+"</a>":6==g&&(i+="<span>...</span>"):1==g||2==g||3==g||g==p-1||g==p||g==p+1||g==s-1||g==s?i+="<a "+(g==p?"class='selected'":"data-page='"+g+"'")+" href='javascript:;'>"+g+"</a>":(4==g||g==s-2)&&(i+="<span>...</span>"):n>=r&&(p>s-4?1==g||2==g||g>=s-4?i+="<a "+(g==p?"class='selected'":"data-page='"+g+"'")+" href='javascript:;'>"+g+"</a>":3==g&&(i+="<span>...</span>"):1==g||2==g||g==p-1||g==p||g==p+1||g==s-2||g==s-1||g==s+1?i+="<a "+(g==p?"class='selected'":"data-page='"+g+"'")+" href='javascript:;'>"+g+"</a>":(3==g||g==p+2)&&(i+="<span>...</span>"))}else i+="<a "+(g==p?"class='selected'":"data-page='"+g+"'")+" href='javascript:;'>"+g+"</a>";i+="<a"+(p==s?" class='page_gray'":" data-page='"+(p+1)+"'")+" href='javascript:;'>&raquo;</a>"}a("#pagination").html(i),a("#pagination").children("a[data-page]").on("click",function(){p=a(this).attr("data-page"),e.pageNo=parseInt(p),t(e)})}var i="<div class='pageHtml'></div>",g="<div id='pagination'></div>",n=i+g;a(this).append(n);var r={pageNo:1,pageSize:10};return e=e?e:r,e.pageStep||(e.pageStep=r.pageStep),this.each(function(){t(e)})}}(jQuery);